CREATE TABLE GENRE
(
  GenreID INT NOT NULL,
  GenreName VARCHAR2 NOT NULL,
  PRIMARY KEY (GenreID)
)
;

CREATE TABLE PERSON
(
  PersonID INT NOT NULL,
  FirstName VARCHAR2 NOT NULL,
  LastName VARCHAR2 NOT NULL,
  BirthDate VARCHAR2 NOT NULL,
  PRIMARY KEY (PersonID)
)
;

CREATE TABLE MATURITYRATING
(
  RatingID INT NOT NULL,
  RatingName VARCHAR2 NOT NULL,
  Rating_Explanation VARCHAR NOT NULL,
  PRIMARY KEY (RatingID)
)
;

CREATE TABLE DATE
(
  DateID INT NOT NULL,
  Date DATE NOT NULL,
  PRIMARY KEY (DateID)
)
;

CREATE TABLE THEATRE
(
  TheatreID INT NOT NULL,
  Name VARCHAR2 NOT NULL,
  LogoImage VARBINARY NOT NULL,
  PostalCode VARCHAR2(6) NOT NULL,
  Phone VARCHAR2 NOT NULL,
  Other VARCHAR2 NOT NULL,
  Notice VARCHAR2 NOT NULL,
  PRIMARY KEY (TheatreID)
)
;

CREATE TABLE LOCATION
(
  City VARCHAR2 NOT NULL,
  Province VARCHAR2 NOT NULL,
  TheatreID INT NOT NULL,
  FOREIGN KEY (TheatreID) REFERENCES THEATRE(TheatreID)
)
;

CREATE TABLE FORMAT
(
  FormatID INT NOT NULL,
  FormatName VARCHAR2 NOT NULL,
  PRIMARY KEY (FormatID)
)
;

CREATE TABLE AGE_GROUP
(
  AgeGroupID INT NOT NULL,
  AgeGroupName VARCHAR2 NOT NULL,
  Ages VARCHAR2 NOT NULL,
  TheatreID INT NOT NULL,
  FormatID INT NOT NULL,
  DateID INT NOT NULL,
  PRIMARY KEY (AgeGroupID),
  FOREIGN KEY (TheatreID) REFERENCES THEATRE(TheatreID),
  FOREIGN KEY (FormatID) REFERENCES FORMAT(FormatID),
  FOREIGN KEY (DateID) REFERENCES DATE(DateID)
)
;

CREATE TABLE CREDIT
(
  CreditID INT NOT NULL,
  CreditName VARCHAR2 NOT NULL,
  PRIMARY KEY (CreditID)
)
;

CREATE TABLE DATE_THEATRE_FORMAT
(
  FormatID INT NOT NULL,
  DateID INT NOT NULL,
  TheatreID INT NOT NULL,
  FOREIGN KEY (FormatID) REFERENCES FORMAT(FormatID),
  FOREIGN KEY (DateID) REFERENCES DATE(DateID),
  FOREIGN KEY (TheatreID) REFERENCES THEATRE(TheatreID)
)
;

CREATE TABLE THEATRE_FORMAT
(
  FormatID INT NOT NULL,
  TheatreID INT NOT NULL,
  FOREIGN KEY (FormatID) REFERENCES FORMAT(FormatID),
  FOREIGN KEY (TheatreID) REFERENCES THEATRE(TheatreID)
)
;

CREATE TABLE MOVIE
(
  MovieID INT NOT NULL,
  MovieName VARCHAR2 NOT NULL,
  Year INT NOT NULL,
  Synopsis VARCHAR2 NOT NULL,
  Length TIME NOT NULL,
  Explanation INT NOT NULL,
  CreditID INT NOT NULL,
  RatingID INT NOT NULL,
  DateID INT NOT NULL,
  PRIMARY KEY (MovieID),
  FOREIGN KEY (CreditID) REFERENCES CREDIT(CreditID),
  FOREIGN KEY (RatingID) REFERENCES MATURITYRATING(RatingID),
  FOREIGN KEY (DateID) REFERENCES DATE(DateID)
)
;

CREATE TABLE AUDITORIUM
(
  AuditoriumID INT NOT NULL,
  Name VARCHAR2 NOT NULL,
  Capacity INT NOT NULL,
  FormatID INT NOT NULL,
  TheatreID INT NOT NULL,
  PRIMARY KEY (AuditoriumID),
  FOREIGN KEY (FormatID) REFERENCES FORMAT(FormatID),
  FOREIGN KEY (TheatreID) REFERENCES THEATRE(TheatreID)
)
;

CREATE TABLE PERSON_MOVIE
(
  PersonID INT NOT NULL,
  MovieID INT NOT NULL,
  FOREIGN KEY (PersonID) REFERENCES PERSON(PersonID),
  FOREIGN KEY (MovieID) REFERENCES MOVIE(MovieID)
)
;

CREATE TABLE GENRE_MOVIE
(
  GenreID INT NOT NULL,
  MovieID INT NOT NULL,
  FOREIGN KEY (GenreID) REFERENCES GENRE(GenreID),
  FOREIGN KEY (MovieID) REFERENCES MOVIE(MovieID)
)
;

CREATE TABLE MOVIE_FORMAT
(
  FormatID INT NOT NULL,
  MovieID INT NOT NULL,
  FOREIGN KEY (FormatID) REFERENCES FORMAT(FormatID),
  FOREIGN KEY (MovieID) REFERENCES MOVIE(MovieID)
)
;

CREATE TABLE SHOWTIME
(
  DateID INT NOT NULL,
  TheatreID INT NOT NULL,
  AuditoriumID INT NOT NULL,
  FormatID INT NOT NULL,
  MovieID INT NOT NULL,
  FOREIGN KEY (DateID) REFERENCES DATE(DateID),
  FOREIGN KEY (TheatreID) REFERENCES THEATRE(TheatreID),
  FOREIGN KEY (AuditoriumID) REFERENCES AUDITORIUM(AuditoriumID),
  FOREIGN KEY (FormatID) REFERENCES FORMAT(FormatID),
  FOREIGN KEY (MovieID) REFERENCES MOVIE(MovieID)
)
;
